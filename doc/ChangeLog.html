<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--
----	$Id$

----	(c) Copyright 1998-2002 by Lutz Sammer

----    FreeCraft is free software; you can redistribute it and/or modify
----    it under the terms of the GNU General Public License as published by
----    the Free Software Foundation; only version 2 of the License.

----    FreeCraft is distributed in the hope that it will be useful,
----    but WITHOUT ANY WARRANTY; without even the implied warranty of
----    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
----    GNU General Public License for more details.
-->
<HTML><HEAD>
    <TITLE>ChangeLog: The FreeCraft (fka ALE Clone) Version 1.17</TITLE>
</HEAD>
<BODY>
    <H1>ChangeLog: The FreeCraft (fka ALE Clone) Version 1.17</H1>
<HR><PRE WIDTH=80>
     ___________		     _________		      _____  __
     \_	  _____/______   ____   ____ \_   ___ \____________ _/ ____\/  |_
      |    __) \_  __ \_/ __ \_/ __ \/    \  \/\_  __ \__  \\   __\\   __\ 
      |     \   |  | \/\  ___/\  ___/\     \____|  | \// __ \|  |   |  |
      \___  /   |__|    \___  >\___  >\______  /|__|  (____  /__|   |__|
	  \/		    \/	   \/	     \/		   \/
    ______________________                           ______________________
			  T H E   W A R   B E G I N S
	   FreeCraft - A free fantasy real time strategy game engine
</PRE>
<P><B>(C) Copyright 1998-2002 by The FreeCraft Project. Distributed under the
<A HREF="gpl.html">"GNU General Public License"</A></B>
<HR>

<A HREF="#current">Current</A>

<UL>
<P><LI>Version 1.10
    <UL>
    <LI>Remove use of imlib.
    <LI>Implement run-length-encoded sprites. (Saves 9 MB memory).
    </UL>
<P><LI>Version 1.11
    <UL>
    <LI>Sort units for display, correct overlapping.
    <LI>Faster cursor drawing.
    <LI>Improved updates. (Faster)
    <LI>Implemented first sound support.
    </UL>
<P><LI>Version 1.12 (first released public version)
    <UL>
    <LI>Fixed bug: player 0 units are drawn with wrong colors on mini-map.
    <LI>Fixed bug: cursor not clipped on right edge of window.
    <LI>Fixed bug: allocated too much shared video memory.
    <LI>Fixed bug: cursor outside window, drawn with bad coordinates.
    <LI>Added middle mouse button, scrolls the map.
    <LI>Fixed bug: can't reach buildings if one coordinate is 0. (sign!)
    <LI>Fixed bug: selecting, selects not all units.
    <LI>Added ALT+select selects the old group.
    <LI>Added CTRL+select selects all visible units of this type.
    </UL>
<P><LI>Version 1.13
    <UL>
    <LI>Fixed bug: in unit drawing, no more cores here.
    <LI>Added: unit names are now shown correct.
    <LI>Added missiles.
    <LI>Added attack, death animation.
    <LI>Added corpse.
    <LI>You can now return goods.
    <LI>The debug speeds of mining, harvest, building, training are now
	configurable.
    <LI>The mini-map is now only redraw each second. (more speed)
    <LI>Started AI code.
    <LI>Rewritten wood remove, but still not works 100% correct.
    <LI>Fixed bug: in save/restore cursor, no more cores here.
    <LI>Started cleanup source tree.
    </UL>
<P><LI>Version 1.14
    <UL>
    <LI>Fixed bug: upgrade unit
    <LI>Fixed bug: RevealMap and MapUpdateVisible no longer overwrite memory.
    <LI>Fixed bug: Save and restore cursor no longer access outside the bounds.
    <LI>Add new functions UnitCache..., to improve speed.
    <LI>Many cleanups in the sources.
    <LI>Damaged buildings are now burning.
    <LI>Support for guile snapshot version. (I removed it)
    <LI>Support for guile-1.3
    <LI>Fixed bug: removed unit builds building. (from Charles K Hardin)
    <LI>Modified makefiles to support inline source code documentation.
    <LI>Started greater map and own maps support.
    <LI>Fixed bug: Matrix was too small for big maps.
    <LI>Tried to get working source code documentation.
    <LI>Added threaded sound support (from Fabrice Rossi).
    <LI>Fixed bug: 96x96 maps dumps core, introduced with big maps.
    <LI>Fixed bug: Movement flags was wrong for big maps.
    <LI>Started network code. (Just for testing)
    <LI>Fixed bug: Trained units are inserted twice into unit cache.
    <LI>Written transporter load/unload code.
    <LI>Fixed bug: Buttons aren't reported over network.
    <LI>Applied patches from Josh Cogliati.
    <LI>Applied patches for sound part (from Fabrice Rossi).
    <LI>Fixed bug: Upgrades dumps core. (Player::UnitFlags was to small)
    <LI>Fixed bug: Building cursor destroys map border.
    <LI>Fixed bug: Selecting building place and unit is killed dumps core.
    <LI>Experimental guile-gtk support added.
    <LI>New command-line option -c file.ccl = CCL start file.
    <LI>Fixed bug: A unit could attack it self. (self destruction)
    <LI>Fixed bug: New units says again hello (from Fabrice Rossi).
    <LI>Fixed bug: Unit placed twice in unit-cache. (end of resources)
    <LI>Fixed bug: All units crossing coast plays docking sound (from Fabrice
	Rossi).
    <LI>Original speed is the default for the release
    </UL>
<P><LI>Version 1.15
    <UL>
    <LI>Applied patches: sound is distance dependent. (Fabrice Rossi)
    <LI>Support for 15bit X11 server. (My new graphic card needs it)
    <LI>Started moving unit code into own directory. 
    <LI>Moved unit-type CCL code into own file.
    <LI>Moved sound CCL code into own file.
    <LI>UDTA section of puds are now parsed and supported.
    <LI>Fixed bug: No goal. (from Patrick)
    <LI>Applied patches: new sound configuration and api. (Fabrice Rossi)
    <LI>Changed &lt;strings.h&gt; to &lt;string.h&gt; for glibc-2.1.
    <LI>Applied patches from lokh:
    <UL>
<LI>Gold mined, wood harvested and oil hauled is added to the player's
    resources as soon as the peon/peasant reach the hall/mill/...
    Note that this is the standard behaviour of w*rcr*ft 2.
    This part generates a bunch of warnings from the AI saying that it
    can't build a farm. This is just this: a warning. As soon as it is
    possible (the peon gets out of the hall), the farm is builded.
<LI>New memory management. The main memory array isn't used directly
    anymore (except for debug message and network code), and the units
    are accessed by arrays of pointers (the solution isn't currently
    memory optimized, but this can be modified quite easily).
    There are currently 3 kind of "lists": Used unit slots, free unit
    slots, and a list of units used by each player.
    This implies a bunch of (more or less) small changes through the
    code...
<LI>It's now possible to cancel the construction of a building.
<LI>Now when a castle/keep/stronghold/../lumber mill/refinery is 
    destroyed, the gold/wood/oil harvested is correctly adjusted.
<LI>When a keep/stronghold/castle/fortress is constructed, gold/wood/oil
    harvested is adjusted if necessary.
<LI>I added ActionUnitConstructed test to UnitUnusable(): A building 
    under construction can be considered unusable :). There is an
    exception though when you select a building under construction with
    the mouse.
    For example, the peons harvesting wood were bringing it back to the
    lumber mill under construction...
<LI>In unit_find.c I added 2 functions FindUnitsByType() and 
    FindPlayerUnitsByType(). These are general functions but used by the
    AI code and building construction/destruction (halls/lumber mill/...)
<LI>AiFindFreeWorkers now finds free workers.
<LI>Various code cleanups, code optimizations, minor changes, and things
    I forgot...
<LI>ChangeUnitOwner() is now recursive. This is not important for w*rcr*ft but
    it will be interesting for st*rcr*ft.
<LI>Modified a couple of things in DestroyAllInside(), to speed up things in
    special cases (transporters, construction...)
<LI>Fixed a bug in DestroyUnit(): Units in transporters weren't destroyed
    (although they were still "removed" from the map. There is still a problem
    though, as the dead bodies of the units in the transporters are displayed.
    Sorry I didn't look at this yet.
<LI>The dead body animation is now displayed.
<LI>Reworked the rectangle selection to match the one of w*rcr*ft 2:
    Select a group of player's "mobile" units.
    if none, select a construction from that player.
    if still none, select a (random) neutral unit (critter, mine...)
    if still none, select a (random) enemy unit.
    </UL>
    <LI>New tool written in C: wartool, includes all xxx2png in one file.
    <LI>Fixed bug: Files from tool directory are not included in the
	distribution.
    <LI>Applied patches from Vladi.
    <UL>
<LI>MapField.SeenTile -- used for the wood/rocks last seen fog bug :)
<LI>Macros MAPEXPLORED, MAPVISIBLE... added
<LI>Fixed bug: Wood removing should be ok.
<LI>Fixed bug: Fog of war should be ok.
<LI>Fixed bug: Fixes seen wood bug.
<LI>Added cheats -- for debug really :)
<LI>Added TileTypeTables -- used to lookup what tile is what? i.e. which tiles
    are woods, water,... required for the fog
<LI>Rewritten DrawUnits
<LI>Added Unit.rs which is filled by MakeUnit() with random number between 1
    and 100, used for fancy buildings. `fancy buildings'! every building is
    drawn randomly normal or flipped horizontally, so the your city will have
    some buildings pointed to right and some to left! i.e. will not look
    uniform.
<LI>Fixed bug: in UnitVisible() for fog of war
<LI>Added Now enemy buildings will look under the fog with the last 
    seen frame (or will not show if you haven't seen them yet)
    FIXME: if seen building under fog is ruined it will disappear
<LI>Added DrawResources() shows food usage now.
<LI>Added Unit.PendCommand, now TownHall and Barracks have `move', `stop',
    `attack' and `harvest' commands ( and RightClick will do it ), which will
    be applied auto to all new units.
<LI>Fixed: `case 1...100' thing --&gt; with default:if(...&lt;100)                    
    </UL>
    <LI>Rewritten DrawUnits, combined work.
    <LI>Moved map.c minimap.c and tileset.c into own directory map.
    <LI>Fixed bug: Map redrawn only for visible missiles. (from Fabrice Rossi).
    <LI>Fixed bug: Buildings are now visible again without fog of war.
    <LI>Applied patches from Vladi.
    <UL>
    <LI>Units could have command queues.
    <LI>Building could now train more units.
    <LI>Walls are now converted into tileset.
    <LI>Walls are now connected correct.
    </UL>
    <LI>Cache for tiles now source configurable.
    <LI>Fixed bug: Outside map access in HandleMouseMove.
    <LI>Faster map background drawing routines.
    <LI>Map background drawing routines for all bpp.
    <LI>Fixed bug: Area too big for CursorOnMap.
    <LI>Add smart cache for map background drawing.
    <LI>All the background drawing stuff could be compile time configured.
    <LI>Added rock removing. (from Vladi)
    <LI>Added demolish code. (from Vladi)
    <LI>Add needed code for demolish.
    <LI>Fixed bug: Attack or demolish moving target.
    <LI>Dwarves and goblin sappers has no longer a corpse.
    <LI>Make compilable without DEBUG defined.
    <LI>Split map.c in more parts.
    <LI>Add patches from Patrice.
    <UL>
    <LI>Moved selection stuff into own file.
    <LI>Reorganized functions.
    </UL>
    <LI>Added new fog of war look.
    <LI>Improved speed of fog of war.
    <LI>New fog of war now runtime configurable.
    <LI>Fixed bug: with build action queuing (from Vladi)
    <LI>You can build a line of walls by pressing the SHIFT+ALT keys.
    <LI>Fixed bug: computer units could get "flush".
    <LI>Applied patches from Ari (Better -I and -L for other distributions)
    <LI>Add patches from Patrice: Added selection of groups.
    <LI>Added patches new AI code from Jon Gabrielson
    <LI>Fixed bug: You can repair without money.
    <LI>Fixed bug: Can build more units than food with building queues.
    <LI>Added patches new AI code from Jon Gabrielson
    <UL>
    <LI>Added pause and better quit sequences.
    <LI>Changed FAST_DEBUG to cheat codes 'fast debug' and 'normal debug'
    </UL>
    <LI>Fixed bug: 's' are now usable for the panel. save is now 'S'.
    <LI>Fixed bug: ships play now an attacking sound.
    <LI>Cleanup in the includes files (#ifndef ... #endif).
    <LI>Fixed bug: Builded walls aren't really removed.
    <LI>Fixed bug: Attacking units in reaction range, are now only weak targets.
    <LI>Added patches for alpha port.
    <LI>Fixed bug: When a new unit is selected the status bar isn't correctly
	updated. (from Lokh)
    <LI>Fixed bug: weak targets should now work.
    <LI>Added upgrade+button patches (from Vladi)
    <LI>Cleaned and reorganized the patches.
    <LI>Added ShowOrders and show-orders.
    <LI>Updated todo.html (from Vladi)
    <LI>Moved "icons.c" from directory src/clone to src/ui.
    <LI>Removed all "Icon..." defines, please use now IconConfig and IconByIdent
    <LI>Changed Unit::Player from integer bitfield to pointer.
    <LI>Added patches to compile under FreeBSD. (from Steinar)
    <LI>Fixed bug: Foreign units now didn't acknowledge selection.
    <LI>Fixed bug: Cancel train should now work correct.
    <LI>Better and configurable middle mouse button (from Ari)
    <LI>strdupa removed, didn't supported by libc5 (from Ari)
    <LI>Added saturation for alpha fog of war (from Edgar)
    </UL>
<P><LI>Version 1.16
    <UL>
    <LI>Added PowerPC patches from Ian Farmer.
    <LI>Support for non expansion CD version, based on Stefan Dirsch wartool
	patch.
    <LI>Icons names must now be prefixed with "icon-" (arrow1 -> icon-arrow1)
    <LI>Unit actions now shown with the buttons (still needs some work)
    <LI>Corrected display of damage in middle panel.
    <LI>Added fast scrolling with cursor keys and control.
    <LI>Added support for bz2 compression library.
    <LI>Fixed bug wrong frame for automatic attacks.
    <LI>Rewritten input event loop.
    <LI>Fixed bug construction could be attacked again.
    <LI>Fixed bug clone crashes if an oil tanker tries to go into a oil well
	that is still building
    <LI>Fixed bug: upgrade costs are now shown correct.
    <LI>Add -s n to set the sleep time for the AI.
    <LI>Added "set" buttons to mage-tower.
    <LI>Fixed bug: harvest uses to fast ComplexPath.
    <LI>Fixed bug: can't reach shore building place.
    <LI>Fixed bug: can't build in the last row or column.
    <LI>Fixed bug: AI sleeps in some levels (no MainHall).
    <LI>Fixed bug: Leaving goldmine without deposit.
    <LI>Patches from Josh
    <UL>
	<LI>Fixed two constants so that you can load transporters.
	<LI>Sound patch so that missing sounds don't crash clone.
    </UL>
    <LI>Patches from Lokh
    <UL>
	<LI>No fog of war for the peons in the mines.
	<LI>Added a LoadPicture() function to handle full-screen picture 
	    (palette changes &co)
    </UL>
    <LI>Fixed bug: Computer didn't use standing workers with gold/wood.
    <LI>Fixed bug: Unit type aren't correct counted, if present in pud.
    <LI>Fixed bug: Income effects should now work correct.
    <LI>Added "set" buttons to gryphon aviary,gnomish inventor,dragon roost
	and goblin alchemist.
    <LI>Fixed bug: play selecting sound for goldmines... (don't know if correct)
    <LI>Changed input handling, improved interactive handling.
    <LI>Fixed bug: Chopping of wood on left or top map border (not 100%)
    <LI>Fixed bug: memory corruption by big maps.
    <LI>Fixed bug: transporter(s) has no unload buttons.
    <LI>Fixed bug: The AI didn't build a hall, when enough workers exists.
    <LI>Added support for svgalib from Jarek Sobieszek.
    <LI>Added command line option -f and -t to adjust computer costs and build
	times.
    <LI>Fixed bug: ballista and catapult can't enter transporter.
    <LI>Patches from Kenneth Sanislo
    <UL>
    <LI>Fixed bug: Compiler warning `unit_ident' might be used uninitialized in
	this function.
    <LI>Added svgalib non-linear support (so S3 chipsets work)
    <LI>svgalib mouse bug #1 (no more hardcoded MS mouse, reads the
	libvga.config)
    <LI>svgalib mouse bug #2 (mouse stays on screen)
    <LI>svgalib mouse bug #3 (mouse movement slowed so it's usable)
    <LI>Fixed bug: CTRL ALT and SHIFT modifiers in svgalib
    </UL>
    <LI>Fixed bug: build.sh didn't link default pud.
    <LI>Fixed bug: Window close button must exit/quit game. (from Ari)
    <LI>Fixed bug: Destroyed shore buildings shows wrong destroyed image.
    <LI>Made sound support optional (WITH_SOUND) to support ports without sound.
    <LI>From Jarek Sobieszek:
    <UL>
    <LI>Initial mouse position set to the middle of the screen ( svgalib.c )
    <LI>Changeable mouse scale (svgalib.c)
    <LI>More keys working ( svgalib.c )
    <LI>When a peon was chopping wood and was moved to another location, he was
    losing all wood he had, same thing when two peons chopped the same tree,
    the second to finish was losing all the wood.
    </UL>
    <LI>Fixed bug: Building rune stone dumps debug core.
    <LI>Fixed bug: Oil well didn't show the correct frame if active.
    <LI>Prepared removement of TheMap.MovementMap, all functions should now use
	the flags in TheMap.Fields.
    <LI>Fixed bug: svgalib works wrong with 15 bit videomode.
    <LI>Changed WINDOW_WIDTH and WINDOW_HEIGHT to VideoWidth and VideoHeight.
    <LI>Added SDL support.
    <LI>Added Win32 support. (Sound, network is missing)
    <LI>Added fullscreen to SDL support.
    <LI>Added 'A'...'Z' handling to SDL support.
    <LI>Added to SDL version, old sound and network support.
    <LI>Added patches from Ari.
    <LI>Cancel upgrade and research _should_ work with multiplayer.
    <LI>Add command log file "command.log".
    <LI>Old code MOVE_MAP and ACTION_MAP are now removed.
    <LI>Fixed bug: resource line not immediate update for new units.
    <LI>Fixed bug: attacked units blinks for ever.
    <LI>Fixed bug: Continuous ***** NO FREE SLOT IN SOUND FIFO ***** (from Fabrice)
    <LI>Fixed bug: Patrolling units didn't attack the enemy.
    <LI>Patches from Anthony Towns
    <UL>
    <LI>Add a -d argument to specify CLONE_LIB_PATH
    <LI>Add a CloneLibPath variable (in clone/clone.c) to replace C_L_P
    <LI>Replace CLONE_LIB_PATH with CloneLibPath everywhere it occurs
    <LI>Changed build.sh to use arguments instead of requiring you to
	hack the script itself.
    <LI>Add some install targets.
    </UL>
    <LI>Added patches from Ari: hooks for menus and first menus.
    <LI>Fixed bug: Own units automatic attacks neutral units (from lokh).
    <LI>Fixed bug: destroyed attacking towers shows destroyed water site image.
    <LI>Fixed bug: AI dumps core, if all commands are processed.
    <LI>Fixed bug: A unit with the command "stand ground" stands forever.
    <LI>Changed: Units which stand still attacks now in reaction range.
    <LI>Input buffer size reduced, should now fit into line.
    </UL>
<P><LI>Version 1.16.1
    <UL>
    <LI>Fixed bug: Wrong tech tree for rangers and berserkers.
    <LI>Fixed bug: Ship cannon and armor upgrade shows no effect.
    <LI>Improved bz2lib and zlib support added. (from Ari)
    <LI>Fixed bug: XWarpPointer produces many unnecessary events.
    <LI>Gray text patch applied. (from Ari)
    <LI>Changes in WaitEventsAndKeepSync.
    <LI>Better build.bat script written for Win32.
    <LI>Fixed bug: SDL port didn't support upper case character input.
    <LI>Fixed bug: Long input line writes over right border.
    <LI>Add support for SIOD instead of GUILE.
    <LI>Fixed bug: tools/Makefile overwrites c files for gfx2png...
    <LI>Removed glib use in sound_id.c, uses now etlib hash.
    <LI>Fixed bug: sound configuration couldn't be defined in CCL.
    <LI>I also enabled the threaded sound, if compiled with it.
    <LI>Fixed bug: goblin zeppelin annoyed, not played.
    <LI>Make use of SDL_Sound.
    <LI>Fixed bug: in new video code, sign problems produce cores.
    <LI>Added icon for food resource contributed from Guardian.
    <LI>Fixed bug: units in the gold-mine could be attacked.
    <LI>Fixed bug: Can't repair buildings under construction.
    <LI>Added support for bz2 compressed png. (from Ari)
    <LI>Include print unit type table code only, if DEBUG is defined.
    <LI>Fixed bug: correct include file path for SDL_audio.h (from Cade)
    <LI>Renamed all scheme functions from "clone-" to "freecraft-".
    <LI>More configuration of mana and health display.
    <LI>Added MissileByIdent.
    <LI>Fixed bug: Network sync clears too many bits. (from Michael O'Reilly)
    <LI>From Ari:
    <UL>
    <LI>New default map: "default.cm" instead of "default.pud"
    <LI>LoadCursors and LoadImages rewritten to support multiple loads.
    <LI>New CCL functions "display-picture" and "process-menu".
    </UL>
    <LI>Split upgrade.[ch] into depend.[ch] and upgrade.[ch].
    <LI>Upgrade/Unit dependency code rewritten.
    <LI>CCL2 load now uses FreeCraftLibPath.
    <LI>Added icon for score contributed from Guardian.
    <LI>Fixed bug: Wrong damage displayed, if basic damage is zero.
    <LI>Fixed bug: wrong library path for SIOD under win32.
    <LI>Corrected palette in score.png.
    <LI>Fixed bug: Fog of war is wrong for 16 bpp video modes.
    <LI>Contrast, Brightness and Saturation now also to runtime changeable.
    <LI>Added configurable regeneration of the forest.
    <LI>Added display of command keys, for tutorial.
    <LI>New scroll handling: Both keyboard and mouse scrolling are now handled
	by the same code, and you can now scroll diagonally with the keyboard.
	(from Sean McMillan)
    <LI>Added setting of contrast, brightness and saturation.
    <LI>Fixed bug: FontMeasureWidths violates memory bounds.
    <LI>Removed the old line draw code, new should work correct.
    <LI>Removed the OldGraphic code, the new should work correct.
    <LI>Fixed bug: Draw from smart cache, draws a scanline too much.
    <LI>Added support for new scrolling to svgalib version.
    <LI>Fixed bug: LoadTileset violates memory bounds.
    <LI>32bpp videomode patches from Michael O'Reilly applied.
    <LI>unit-UnitsPool changed to UnitNumber(unit) (from Michael O'Reilly).
    <LI>Removed the old Sprite declarations and functions.
    <LI>Fixed bugs in video code, due 32bpp upgrade.
    <LI>Included source setup script from  Dan Hensley.
    <LI>Added grab mouse toggle with 'G'.
    <LI>Fixed bug: wrong colors in mini-map.
    <LI>Fixed wrong names in unitsound.c.
    <LI>Rewritten VideoCreatePalette.
    <LI>Applied new patches from Ari.
    <LI>Updated setup script from Dan Hensley.
    <LI>User interface is now configurable (see data/ccl/ui.ccl)
    <LI>Support for 640x480, 800x600, 1024x768, 1600x1200 videomodes.
    <LI>Patch from Dan Hensley for auto detection of SVGALINEAR.
    <LI>Added CCL Configurable Scrolling Speed from Sean McMillan.
    <LI>Ari has rewritten LoadRLESprite, that it no longer use alloca.
    <LI>Added support for 6 default resources. (new Ore, Stone and Coal)
    <LI>Moved endian stuff to central point "endian.h", changed the macros
	names. Support for SDL_endian.h with SDL.
    <LI>Fixed bug: Acknowledge sounds are not played. (From Fabrice)
    <LI>Fixed bug: correct compression options in setup. (From Hensley)
    <LI>Added: reactivate the sound cancellation without glib. (From Fabrice)
    <LI>Fixed bug: costs in statusline shows for everything the gold cost.
    <LI>Fixes the problem that if you cancel training on the last unit training
	the cancel button will remain. (From Josh)
    <LI>Updated setup script, cleaned up and more options. (From Josh+Dan)
    <LI>Fixed bug: 8bpp and 32bpp video modes crashes. (From Mike Earl)
    <LI>Fixed error messages in build.bat. (From Joachim)
    <LI>Fixed bug: 24bpp video mode didn't work correct.
    <LI>Changed text handling now ~ is a command prefix. ~! = reverse,...
	See DrawText for the complete documentation.
    <LI><B>1.16.1pre2 -> final</B>
    <LI>Fixed bug: Wrong text in upgrade.
    <LI>Fixed bug: compile with nosound option didn't work.
    <LI>Fixed bug: If Transporter killed, skeletts of passengers appears.
    <LI>Mythical and alliance user interface removed from main distribution.
    <LI>Fixed build.bat (from Ari)
    <LI>The main CCL file "freecraft.ccl" first looked up in $HOME/.freecraft.
    </UL>
<A NAME="current"> </A>
<P><LI>Version 1.17
    <UL>
    <LI>Distribution archive renamed to "freecraft".
    <LI>Executable renamed to "freecraft".
    <LI>Removed old animation scripts handling.
    <LI>Wrote new corpse handling.
    <LI>Not ready: New directory structure and filenames in data.
    <LI>Changed input polling of SDL version, should react better under load.
    <LI>Old function UnitConflicts removed.
    <LI>Fixed bug: corpse do attack.
    <LI>Fixed bug: cancel with full training queue, gives wrong cost back.
    <LI>Calculate better repair costs.
    <LI>New unit allocation and unit reference handling.
    <LI>Command flush argument, now in the user input layer handled.
    <LI>New network code ready, supporting internet and win32 play.
    <LI>Regenerating of berserker units written.
    <LI>Enemy handling rewritten, now supporting also allies.
    <LI>Fixed bug: can't upgrade axe-thrower to berserker.
    <LI>Heading code rewritten.
    <LI>Missile code rewritten.
    <LI>Fixed bug: Building are not burning correct.
    <LI>Burning buildings now play burning sound if selected.
    <LI>'Q' is now the quit key, 'q' works no longer.
    <LI>Fixed bug: Attack ground didn't work.
    <LI>Fixed bug: cancel button, of set pending command didn't work.
    <LI>Made fancy building configurable.
    <LI>Fixed bug: New network code, did not call win32 init.
    <LI>Building of walls only in network game allowed.
    <LI>Fixed bug: cancel gives back more than the unit/upgrade has cost.
    <LI>Network code finished, most bugs found, works now with firewalls.
    <LI>Fixed bug: Placement and removement of oil patch from David Slimp.
    <LI>Cleanup of video code.
    <LI>Fixed bug: Now starts if compiled without sound and with CCl. 
    <LI>Fixed workers attack sounds and unorganic units death sounds from
	David Slimp.
    <LI>Old heading code removed, better turning to target.
    <LI>Fixed bug: buildings under construction couldn't be repaired from
	David Slimp.
    <LI>Fixed bug: Repairing buildings already at max HP from David Slimp.
    <LI>Command...Fast=1 removed, use now ResetPath.
    <LI>Prepared all calls for handling the new return codes of the pathfinder.
    <LI>Implemented first part of Select Scenario requesters from Ari.
    <LI>Enabled real 24bpp mode.
    <LI>New horizontal energy bars from Iuri Fiedoruk.
    <LI>Removed old code for unit management and network.
    <LI>New code for automatic target choose.
    <LI>Select Scenario requester done.
    <LI>Added multiple messages and jump with space to event. (from Cade)
    <LI>Fixed bug: Mana costs display dumps core.
    <LI>New spell code integrated from Cade.
    <LI>Fixed bug: Cursor not show on the right or bottom border with SDL.
    <LI>Fixed bug: Right mouse click attacks neutral units.
    <LI>Fixed bug: Selecting with shift more than one enemy or neutral unit.
    <LI>Fixed bug: Building could be selected under fog of war.
    <LI>Fixed bug: Buttons aren't updated after upgrade/research/build.
    <LI>Added commands (color-cycle-all) and (no-color-cycle-all).
    <LI>Added Custom game settings (not used yet).
    <LI>Finished Race and Tileset selection in Custom Game menu.
    <LI>Finished Resources and Units selection in Custom Game menu.
    <LI>Finished Opponents selection in Custom Game menu (reduce only!).
    <LI>Tileset handling less hardcoded.
    <LI>BeOS port by Kenneth Sanislo.
    <LI>Network changes for messages, spells, and menus code.
    <LI>Spells now should work across network.
    <LI>Hopefully fixed BZ2 API name change brain damage.
    <LI>Improved map drawing patches from Stephan Rasenbergver.
    <LI>Fixed bug: loading critters into transporter, crashes.
    <LI>Fixed bug: level of some units not raised for new spells.
	(from Josef Spillner)
    <LI>Changed wrong doc++/doxygen tags @returns to @return.
    <LI>Corrected old path finder.
    <LI>Fixed bug: Platform didn't mark the map correct.
    <LI>Fixed bug: Ships and Flyers moves correct.
    <LI>Made a generic get resource function.
    <LI>Fixed compile without any CCL support.
    <LI>Fixed bug: Cancel build of oil platform didn't place oil patch back.
    <LI>Fixed bug: firing missile outside of map.
    <LI>Fixed bug: Attack cries are too often.
    <LI>Fixed bug: Rescue range too small.
    <LI>Fixed bug: Green cross not drawn on map border. (from Jimmy Salmon)
    <LI>Fixed bug: Unit redraw in the top row or far left column due to a
	signed/unsigned comparison. (From Jimmy Salmon)
    <LI>Fixed bug: Message "not enough mana to cast spell" too long.
    <LI>Fixed bug: Spell death coil hits dying unit, dumps core.
    <LI>Fixed bug: Wrong point for getting costs back, if canceling.
    <LI>Patches from Jimmy Salmon included:
	<UL>
	<LI>I've made several code changes that fixed a few bugs.  Bug #213510
	    about buildings not appearing until the top left corner is visible
	    should be fixed. 
	<LI>Fog of war should be working correctly now when NEW_MAPDRAW is
	    defined.  I also fixed a couple of redraw problems when drawing
	    the selection rectangle or when units rotate when attacking.
	<LI>New feature: The menus are centered even on different resolutions.
	<LI>Fixed bug: First screen isn't correct redrawn.
	</UL>
    <LI>Fixed bug: Cannon tower can't attack units near to it.
    <LI>Guile support removed, Gtk support removed.
    <LI>Cursor module support now more than two races and is configurable with
	CCL.
    <LI>Fixed bug: Wrong resources display, wrong format string.
    <LI>Changed keyboard layout, all special keys must be pressed with ALT/CTRL.
    <LI>Updated to use doxygen 1.2.5.
    <LI>Some more menu code for network menus - unfinished yet.
    <LI>Let the AI workers only harvest reachable trees. (very great
	performance increase.)
    <LI>Made icons configurable (with CCL FreeCraft configuration language).
    <LI>Made buttons configurable (with CCL FreeCraft configuration language).
    <LI>Removed old command code, only the new order code is now present.
    <LI>Fixed bug: Attacking walls broken with new orders.
    <LI>Fixed bug: Building buildings with 0 build time, dumps core. (/0)
    <LI>Fixed bug: ShiftMessagesEvent overwrites memory. Found and fixed by
	Jan Uerpmann.
    <LI>Missile could now hits units always. Set range to zero.
    <LI>Fixed bug: Repairing didn't work with network code.
    <LI>Fixed bug: Worker repairing didn't turn to target.
    <LI>Fixed bug: Unit does not return to starting point, if attacking.
    <LI>Improved network code. More error checking. Player number bugfix.
    <LI>Patrolling units returns to patrol route, after attacking enemies.
    <LI>Fixed bug: Demolish didn't destroy buildings.
    <LI>Fixed bug: Alt-x now works throughout menus (Old 'Q' is gone).
    <LI>Fixed bug: Demolish of rock looks wrong.
    <LI>Fixed bug: Removing wood, rocks and walls isn't syncron over network.
    <LI>Fixed bug: Haul oil dumps core, if running out of oil.
    <LI>Fixed bug: Units in the left or topmost row couldn't be reached.
    <LI>Fixed bug: Decoration of buildings under fog of war is shown.
    <LI>Fixed bug: Polymorph an unit who was just killed raises debug abort.
    <LI>Missiles could now have an area effect.
    <LI>Fixed bug: Ships on oil patches can not be attacked.
    <LI>Fixed bug: Known buildings under fog of war aren't shown on the minimap.
    <LI>Fixed bug: Archives didn't contain all needed run time files.
    <LI>Set range of healing to 6 fields.
    <LI>Spells haste/slow and invisible have now an effect.
    <LI>Fixed bug: Spell death coil could heal dying units.
    <LI>Spell death and decay handled now like original.
    <LI>Spell whirlwind now moves correct and did the correct damage on the
	correct position.
    <LI>Spell raise dead removes the corpse and works on adjacent fields.
    <LI>Added decay of units, eye of k. and skeletons dies after some seconds.
    <LI>Spell blizzard handled more like the original.
    <LI>Spell runes works now correct.
    <LI>Fixed bug: demolish explosion hits units without hitpoints, dumps core.
	(from Latimerius)
    <LI>Fixed bug: Spells hits unit without hitpoints, dumps core.
	(from Latimerius)
    <LI>Upgrades now supports changing the unit-type of already build units.
    <LI>Repairing does now 8 hit points / repair cycle. (Better information?)
    <LI>Fixed bug: Can't set attack exit point of buildings.
    <LI>Event handling now supports call backs.
    <LI>Mouse driver now supports single click, double click and hold button.
    <LI>Title screen now showed for 15s, interrupt it with any button/key press.
    <LI>Fixed grabbing mouse on/off with SDL 1.2.
    <LI>Fixed toggling fullscreen on/off with SDL 1.2.
    <LI>Fixed bug: Return goods aren't working and dumps core.
    <LI>Fixed bug: Spell eye of k. could place more units on the same tile.
    <LI>Removed all %Zd in printf, not portable.
    <LI>Fixed bug: Time for duration of spells is wrong.
    <LI>Fixed bug: Wrong mana cost for rune spell.
    <LI>Added support for mouse clicks on icons of selections.
    <LI>Automatic groups added.
    <LI>Fixed bug: Units in training queues aren't upgraded. (Paladin,Ranger...)
    <LI>Fixed bug: Polymorph over water, places a critter on water :).
    <LI>Fixed bug: Casting invisibilty/unholy armor on volatile units, they
	should explode.
    <LI>Player names are now setup and transfered over the network.
    <LI>New AI now working better than the old, now default.
    <LI>Killing units now counts as points.
    <LI>Fixed bug: Rescue active computer player didn't have AI enabled.
    <LI>Submarine are now handled. Much fun fighting against this evil beasts.
    <LI>Showing progress of training, research, upgrade on map (with mana bar).
    <LI>Spells checks requirements before spell casting starts.
    <LI>Unit limits added, configurable with CCL.
    <LI>Added new feature: automatic hit point regeneration of all units from
	Jan Uerpmann.
    <LI>License changed to GNU General Public License.
    <LI>Fixed problems around uncommon map sizes (32x64,64x32,128x1024...).
    <LI>Stephan Rasenbergver changes for better 8bit palette support.
    <LI>Added support for XP (experience points) and unit kill counter.
    <LI>Renamed DestroyUnit to LetUnitDie, to make function clearer.
    <LI>Fixed health bar drawing position.
    <LI>Health and mana sprites now supports left,center,right aligned.
    <LI>Added showing how many units are in a transporter on map.
    <LI>Fixed bug: Can't attack walls on map border.
    <LI>Fixed bug: Unit can follow self.
    <LI>Let work automatic start harvest after building a lumber mill.
    <LI>Fixed bug: #426589 Warning:low on resources, when I wasn't.
    <LI>Image module removed, panel configuration handled with ui.
    <LI>Removed RaceAdd and make race names configurable with CCL.
    <LI>Support for compiling without CCL removed by SDoL.
    <LI>Removed support for old directory structure, now only the new directory
	structure (NEW_NAMES) is supported.
    <LI>Added showing mana of units inside of a transporter.
    <LI>Fixed bug: XP (experience points) and unit kill counter overlapped by
	Units in a transporter.
    <LI>Showing how many gold/oil is in mine/oil-patch on map.
    <LI>Fixed bug: Increased incomes aren't reduced if builing was lost.
    <LI>Fixed bug: Same upgrade in different buildings.
    <LI>Fixed bug: Building under construction have a sight range.
    <LI>Fixed bug: Buttons are not refreshed, if unit is selected from a group
	over the info panel icon.
    <LI>Fixed bug: Workers always go to the nearest gold-mine and not to the
	selected. (from Antonis Chaniotis)
    <LI>Action follow now attacks if leader is not moving. (from Antonis
	Chaniotis)
    <LI>Fixed bug #422077: Sounds in unexplored area.
    <LI>Fixed bug #443202: Oil patch lost if oil platform under construction is
	destroyed.
    <LI>Added support for mod/xm/... music files using libmodplug written by
	Kenton Varda and Olivier Lapique.
    <LI>Fixed bug: Some names are wrong for the swamp tileset.
    <LI>Removed static tileset configuration.
    <LI>Added new tileset configuration syntax.
    <LI>Some config options are renamed to new style.
    <LI>Added zzip-lib support for puds, namely directory function for gui.
    <LI>Better repair performance. (from Antonis Chaniotis)
    <LI>Each AI cycle only three workers tries to repair a building.
	(from Antonis Chaniotis)
    <LI>Fixed bug #463549: Towers don't display attack power.
    <LI>Some more config options (set-title-screen, set-color-cycle-all,
	set-fancy-buildings) are renamed to new style.
    <LI>Cygwin/Mingw support fixed.
    <LI>Fixed bug: Wrong animations for workers with resource
	(from Antonis Chaniotis).
    <LI>Fixed bug: Wrong repair speed and costs (from Antonis Chaniotis).
    <LI>Fixed bug #475716: Crash with null goal in action follow
	(from Tim Freeman).
    <LI>Fixed bug #439445: Training queue should cancel last unit.
    <LI>Converted libmodplug from C++ to C.
    <LI>Repaired the automatic build of complete version.
    <LI>Fixed bug: Unreachable deposits. (from Antonis Chaniotis)
    <LI>Fixed: Flame Shield Spell.
    <LI>Fixed bug: Submarines are handled different in the multiplayer game.
    <LI>Fixed bug: Missiles are not syncron in the multiplayer game.
    <LI>Written new memory manager for missiles.
    <LI>The food demand of units is shown in the status line. (from Alex)
    <LI>Added food demand and supply to config files and load+save. (from Alex)
    <LI>Improved installation documentation written by Alex.
    <LI>New feature: Worker can capture defect buildings. (from David Slimp)
    <LI>Made selection configurable with CCL.
    <LI>Player (struct _player_) source documentation written.
    <LI>Fixed bug: AI could hang waiting on a force.
    <LI>First version of level briefing.
    <LI>For a new level you don't have to leave freecraft. (Attention: looses
	memory)
    <LI>First version of campaigns.
    <LI>Many documentation fixes. (from Ender)
    <LI>CD player support with SDL. (from Nehal)
    <LI>Add campaign support.
    <LI>New triggers added. Old goals removed. 
    <LI>AI uses transporters.
    <LI>More AI scripts written.
    <LI>Fixed bug: Scouts could rescue units.
    <LI>AI didn't try to repair buildings under enemy control.
    <LI>AI aborts repair if target is destroyed or already repaired.
    <LI>Improved resource collection management for the AI.
    <LI>Show some statistics if no unit is selected.
    <LI>Added example for hold-click, if you hold the mouse button down,
	Ranges and orders are shown until next mouse click.
    <LI>Ai player uses the eye of vision spell.
    <LI><B>1.17pre1 build #17</B>
    <LI>Added patrol command to flying scouts.
    <LI>Applied FreeBSD patches from Flavio Silvestrow.
    <LI>Fixed bug #498350: Goblin Sappers didn't support follow.
    <LI>CD player support with libcda. (from Nehal)
    <LI>Rescued units keeps their player color.
    <LI>Added trigger for bringing rescued units to a point.
    <LI>Fixed bug: AI players shared the same sleep counter.
    <LI>Fixed bug: Goal of unit to board is destroyed, didn't free reference.
    <LI>Added display of orders if shift key is hold.
    <LI>Added display of orders after command for 2s.
    <LI>Fixed bug: Add to selections with shift and rectangle didn't work.
    <LI>Fixed bug: Units have wrong colors, if level is loaded with GUI.
    <LI>Fixed many doxygen warnings.
    <LI>Flac audio format support added.
    <LI>Linux sound driver now didn't block if dsp in use. Blocks if command
	line option -w is used.
    <LI>Split sound_server.c into wav.c, oss_audio.c and sdl_audio.c.
    <LI>Ogg, mp3 audio format support added.
    <LI>Randomize startpositions of network play (from Daniel Burrows).
    <LI>Renamed FrameCounter to GameCycle.
    <LI>Network timeout didn't block mouse movement and scrolling.
    <LI>Removed WaitAndKeepSync from GameLoop.
    <LI>Switch to full screen and back (ALT-F) now works also under windows.
    <LI>Fixed some video locking problems.
    <LI>Fixed bug #537142: Crashes with flame shield attacking buildings.
    <LI>New video frame and game simulation timing code written. Closes bug
	#205006.
    <LI>Fixed feature request #499301: Find idle workers (from Jimmy Salmon).
    <LI>Fixed bug: Wrong error message "illegal level", if loading .cm maps for		network play.
    <LI>Added showing the damage on the map. 
    <LI>Added support for drawing clipped numbers.
    <LI>Fixed feature request #422244: Units in multiple groups (from Jimmy
	Salmon).
    <LI>Added name generations for units.
    <LI>Added big map mode (ALT-B,CTRL-B).
    <LI>Added feature #443233: which makes the unit and missile sounds in
	stereo depending on their location on the screen (from Jimmy Salmon).
    <LI>New functions VideoTextHeight, clipping text (from Jimmy Salmon).
    <LI>Improved briefing scrolling text (from Jimmy Salmon).
    <LI>Added select all ground units with alt rectangle.
    <LI>Added select all flying units with ctrl rectangle.
    <LI>Added showing credits (from Jimmy Salmon).
    <LI>Improved triggers, they now support operator =,&lt;,&gt; (from Jimmy Salmon).
    <LI>Added showing picture between campaign levels (from Jimmy Salmon).
    <LI>Added objective menu (from Jimmy Salmon).
    <LI>Fixed bug #416568: Timer has only a resolution of 10ms.
    <LI>Fixed bug #540121: Events retained between maps.
    <LI>Fixed bug #539093: Status line input not redrawn after menu.
    <LI>Fixed bug #522203: F10 Menu doesn't completely dissappear.
    <LI>Added keyboard shortcuts to the options menus (from Jimmy Salmon).
    <LI><B>1.17pre1 build #18</B>
    <LI>Fixed bug #422167: Cursor in minimap not restricted (from Jimmy Salmon).
    <LI>Added game stats screen after a level is played (from Jimmy Salmon).
    <LI>More CD Audio fixes and optimizations. (from Nehal Mistry)
    <LI>Added keyboard, mouse, and game speed options. (from Nehal Mistry)
    <LI>Added master, music, and cd volume control options. (from Nehal Mistry)
    <LI>Added fog of war control to preferences. (from Nehal Mistry)
    <LI>Fixed bug #542313: Sleep does not work with NEW_AI.
    <LI>Added support for loading CCL files out of zip archive.
    <LI>Removed hardcoded unit-types, spells and upgrades.
    <LI>Fixed endian and word size problem in new flac/ogg/mp3/wav code.
    <LI>Made campaigns menu configurable (Fixes also debian bug #143301).
    <LI>Fixed bug #233889: Could cancel wrong training slot over network.
    <LI>New config option: Attacker can be revealed under fog of war, if they
	attack.
    <LI>Fixed bug #547068: Damage indicators ignore fog-of-war.
    <LI>Scenario requester now remembers path during one game.
    <LI>Added support for complete campaign/level in a zip file or directory.
    <LI>Water effect intro screen.
    <LI>New define-unit-type syntax for save/load/config.
    <LI>Multiple viewports support (from Latimerius).
    <LI>Fixed bug #422586: Lose a group on entering a building.
    <LI>+++
    </UL>

</UL>

<HR>
All trademarks and copyrights on this page are owned by their respective owners.
<ADDRESS><A HREF="mailto:aleclone@FreeCraft.org">The FreeCraft Project</A>
</ADDRESS></BODY></HTML>
