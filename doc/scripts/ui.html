<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<!--
----	(c) Copyright 2002-2003 by Lutz Sammer

----    This program is free software; you can redistribute it and/or modify
----    it under the terms of the GNU General Public License as published by
----    the Free Software Foundation; version 2 dated June, 1991.
----
----    This program is distributed in the hope that it will be useful,
----    but WITHOUT ANY WARRANTY; without even the implied warranty of
----    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
----    GNU General Public License for more details.
----
----    You should have received a copy of the GNU General Public License
----    along with this program; if not, write to the Free Software
----    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
----    02111-1307, USA.
-->
    <title>Stratagus Configuration Language Description: User Interface (UI)</title>
    <meta http-equiv="Content-Type" content="text/html; CHARSET=iso-8859-1">
    <meta name="Author" content="johns98@gmx.net">
    <meta name="Keyword" content="ccl,tileset">
    <meta name="Description" content="">
</head>
<body>
    <h1>Stratagus Configuration Language Description: User Interface (UI)</h1>
<hr><pre width=80>
         _________ __                 __                               
        /   _____//  |_____________ _/  |______     ____  __ __  ______
        \_____  \\   __\_  __ \__  \\   __\__  \   / ___\|  |  \/  ___/
        /        \|  |  |  | \// __ \|  |  / __ \_/ /_/  >  |  /\___ \ 
       /_______  /|__|  |__|  (____  /__| (____  /\___  /|____//____  >
               \/                  \/          \//_____/            \/ 
    ______________________                           ______________________
			  T H E   W A R   B E G I N S
	   Stratagus - A free fantasy real time strategy game engine
</pre>
<p><b>(C) Copyright 2002-2003 by The Stratagus Project. Distributed under the
<a href="../gpl.html">"GNU General Public License"</a></b>
<hr>
<a href="../stratagus.html">Stratagus</a> 
<a href="../readme.html">Readme</a> 
<a href="../faq.html">FAQ</a> 
<a href="ccl.html">CCL</a> 
<a href="triggers.html">PREV</a> 
<a href="unittype.html">NEXT</a> 
<a href="ccl-index.html">Index</a> 
<hr>
<a href="#define-button">define-button</a>
<a href="#define-cursor">define-cursor</a>
<a href="#define-font">define-font</a>
<a href="#define-font-colors">define-font-colors</a>
<a href="#define-menu">define-menu</a>
<a href="#define-menu-graphics">define-menu-graphics</a>
<a href="#define-menu-item">define-menu-item</a>
<a href="#define-ui">define-ui</a>
<a href="#define-viewports">define-viewports</a>
<a href="#display-picture">display-picture</a>
<a href="#process-menu">process-menu</a>
<a href="#set-game-cursor!">set-game-cursor!</a>
<hr>
<h2>Intro - Introduction to UI functions and variables</h2>

Everything around the UI.
<h2>Functions</h2>
<a name="define-button"></a>
<h3>define-button</h3>

<h4>Description</h4>

Define a button.

<h4>Syntax</h4>

<code>(define-button 'pos pos 'level level 'icon icon<br>
&nbsp;&nbsp;'action action ['value value]<br>
&nbsp;&nbsp;['allowed allowed 'allow-arg allowarg]<br>
&nbsp;&nbsp;'key key 'hint hint<br>
&nbsp;&nbsp;'for-unit '(forunit))</code>

<dl>
<dt>pos</dt>
<dd>Position number.
</dd>
<dt>level</dt>
<dd>Level number.
</dd>
<dt>icon</dt>
<dd>Name of the icon to display.
</dd>
<dt>action</dt>
<dd>Action to perform when the button is clicked.  Can be any of the following:
move, stop, attack, repair, harvest, button, build, train-unit, patrol,
stand-ground, attack-ground, return-goods, demolish, cast-spell, research,
upgrade-to, unload, cancel, cancel-upgrade, cancel-train-unit, cancel-build.
</dd>
<dt>value</dt>
<dd>Optional value associated with the action.
</dd>
<dt>allowed</dt>
<dd>Optional check to see if a button is allowed.  Can be any of the following:
check-true, check-false, check-upgrade, check-units-or, check-units-and,
check-network, check-no-work, check-no-research, check-attack,
check-upgrade-to, check-research, check-single-research.
</dd>
<dt>allowarg</dt>
<dd>Optional argument used by the allowed function.
</dd>
<dt>key</dt>
<dd>Shortcut key for the button.
</dd>
<dt>hint</dt>
<dd>Hint to be displayed for the button.
</dd>
<dt>forunit</dt>
<dd>List of units the button applies to.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-button 'pos 1 'level 0 'icon 'icon-move-peasant
      'action 'move
      'key "m" 'hint "~MOVE"
      'for-unit '(unit-footman unit-knight))
</pre>

<p>Defines the move button for the footman and knight.

<h4>Used</h4>

<a href="../../data/ccl/human/buttons.ccl"> $LIBARYPATH/ccl/human/buttons.ccl </a> ,
<a href="../../data/ccl/orc/buttons.ccl"> $LIBARYPATH/ccl/orc/buttons.ccl </a>

<a name="define-cursor"></a>
<h3>define-cursor</h3>

<h4>Description</h4>

Define a cursor.

<h4>Syntax</h4>

<code>(define-cursor ident race 'image image<br>
&nbsp;&nbsp;'hot-spot '(x y) 'size '(width height) ['rate rate])</code>

<dl>
<dt>ident</dt>
<dd>Unique identifier of the cursor, used to reference it in config files and
during startup.
</dd>
<dt>race</dt>
<dd>Race to use this cursor with or "any" to use with any race.
</dd>
<dt>image</dt>
<dd>Path to the image graphic.
</dd>
<dt>hot-spot</dt>
<dd>Hot spot of the cursor in pixels. Relative to the sprite origin (0,0). The
hot spot of a cursor is the point to which Stratagus refers in tracking the
cursor's position.
</dd>
<dt>size</dt>
<dd>Size of the cursor in pixels.
</dd>
<dt>rate</dt>
<dd>Rate of changing the frames if using an animated cursor. The "rate" tells
the engine how many milliseconds to hold each frame of the animation.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-cursor 'cursor-cross 'any
      'image "ui/cursors/small green cross.png"
      'hot-spot '(8 8) 'size '(18 18))
</pre>

<p>Defines the cross cursor for any race.

<h4>Used</h4>

<a href="../../data/ccl/ui.ccl"> $LIBARYPATH/ccl/ui.ccl </a> ,
<a href="../../data/ccl/human/ui.ccl"> $LIBARYPATH/ccl/human/ui.ccl </a> ,
<a href="../../data/ccl/orc/ui.ccl"> $LIBARYPATH/ccl/orc/ui.ccl </a>

<a name="define-font"></a>
<h3>define-font</h3>

<h4>Description</h4>

Define a font.

<h4>Syntax</h4>

<code>(define-font type file size)</code>

<dl>
<dt>type</dt>
<dd>Type of font.  Supported types are: 'game, 'small, 'large, 'small-title,
and 'large-title.
</dd>
<dt>file</dt>
<dd>File name for font file.  Currently only multicolor bitmap fonts supported.
</dd>
<dt>size</dt>
<dd>Font size width and height.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-font 'game "graphics/ui/fonts/game.png" 13 14)
</pre>

<p>Define the game font.

<h4>Used</h4>

<a href="../../data/ccl/fonts.ccl"> $LIBARYPATH/ccl/fonts.ccl </a>

<a name="define-font-colors"></a>
<h3>define-font-colors</h3>

<h4>Description</h4>

.

<h4>Syntax</h4>

<code>(define-font-colors)</code>

<dl>
<dt></dt>
<dd>.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-font-colors)
</pre>

<p>.

<h4>Used</h4>

<a href="../../data/ccl/fonts.ccl"> $LIBARYPATH/ccl/fonts.ccl </a>

<a name="define-menu"></a>
<h3>define-menu</h3>

<h4>Description</h4>

.

<h4>Syntax</h4>

<code>(define-menu)</code>

<dl>
<dt></dt>
<dd>.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-menu)
</pre>

<p>.

<h4>Used</h4>

<a href="../../data/ccl/menus.ccl"> $LIBARYPATH/ccl/menus.ccl </a>

<a name="define-menu-graphics"></a>
<h3>define-menu-graphics</h3>

<h4>Description</h4>

Define the menu graphics for each of the races.

<h4>Syntax</h4>

<code>(define-menu-graphics '(file filename size (w h)) ...)</code>

<dl>
<dt>filename</dt>
<dd>Path to the file containing the menu graphics.
</dd>
<dt>w,h</dt>
<dd>Width and height of an image in the menu graphic.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-menu-graphics
      '(file "ui/buttons 1.png" size (300 144))
      '(file "ui/buttons 2.png" size (300 144)))
</pre>

<p>Defines the menu graphics for all races.

<h4>Used</h4>

<a href="../../data/ccl/menus.ccl"> $LIBARYPATH/ccl/menus.ccl </a>

<a name="define-menu-item"></a>
<h3>define-menu-item</h3>

<h4>Description</h4>

.

<h4>Syntax</h4>

<code>(define-menu-item)</code>

<dl>
<dt></dt>
<dd>.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-menu-item)
</pre>

<p>.

<h4>Used</h4>

<a href="../../data/ccl/menus.ccl"> $LIBARYPATH/ccl/menus.ccl </a>

<a name="define-ui"></a>
<h3>define-ui</h3>

<h4>Description</h4>

.

<h4>Syntax</h4>

<code>(define-ui)</code>

<dl>
<dt></dt>
<dd>.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-ui)
</pre>

<p>.

<h4>Used</h4>

<a href="../../data/ccl/wc2.ccl"> $LIBARYPATH/ccl/wc2.ccl </a>

<a name="define-viewports"></a>
<h3>define-viewports</h3>

<h4>Description</h4>

Define the viewports.

<h4>Syntax</h4>

<code>(define-viewports 'mode mode 'viewport (mapx mapy) ...)</code>

<dl>
<dt>mode</dt>
<dd>Number corresponding to the viewport mode.  See the ViewportMode enum.
</dd>
<dt>mapx</dt>
<dd>X coordinate of the map tile.
</dd>
<dt>mapy</dt>
<dd>Y coordinate of the map tile.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-viewports 'mode 1
      'viewport '(82 31)
      'viewport '(64 31))
</pre>

<p>Defines the viewports to use mode 1 (split horizontal) with the first
viewport having map coordinates 82,31 and the second having coordinates
64,31.

<h4>Not Used</h4>

<a name="display-picture"></a>
<h3>display-picture</h3>

<h4>Description</h4>

Display a picture.

<h4>Syntax</h4>

<code>(display-picture file)</code>

<dl>
<dt>file</dt>
<dd>Path to the image graphic.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (display-picture "graphics/ui/stratagus.png")
</pre>

<p>Displays the picture.

<h4>Not Used</h4>

<a name="process-menu"></a>
<h3>process-menu</h3>

<h4>Description</h4>

Process a menu.

<h4>Syntax</h4>

<code>(process-menu id)</code>

<dl>
<dt>id</dt>
<dd>ID of the menu.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (process-menu 'menu-program-start)
</pre>

<p>Process the menu 'menu-program-start.

<h4>Not Used</h4>

<a name="set-game-cursor!"></a>
<h3>set-game-cursor!</h3>

<h4>Description</h4>

Set the game cursor.

<h4>Syntax</h4>

<code>(set-game-cursor! ident)</code>

<dl>
<dt>ident</dt>
<dd>Unique identifier of the cursor.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (set-game-cursor! 'cursor-point)
</pre>

<p>Set the game cursor to 'cursor-point.

<h4>Not Used</h4>

<hr>
Last changed: $Id$<br>
All trademarks and copyrights on this page are owned by their respective owners.
<address>(c) 2002-2003 by <a href="http://stratagus.org">
The Stratagus Project</a></address></body></html>

