<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<!--
----	(c) Copyright 2002-2003 by Lutz Sammer

----    This program is free software; you can redistribute it and/or modify
----    it under the terms of the GNU General Public License as published by
----    the Free Software Foundation; version 2 dated June, 1991.
----
----    This program is distributed in the hope that it will be useful,
----    but WITHOUT ANY WARRANTY; without even the implied warranty of
----    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
----    GNU General Public License for more details.
----
----    You should have received a copy of the GNU General Public License
----    along with this program; if not, write to the Free Software
----    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
----    02111-1307, USA.
-->
    <title>Stratagus Configuration Language Description: Icon</title>
    <meta http-equiv="Content-Type" content="text/html; CHARSET=iso-8859-1">
    <meta name="Author" content="johns98@gmx.net">
    <meta name="Keyword" content="ccl,tileset">
    <meta name="Description" content="">
</head>
<body>
    <h1>Stratagus Configuration Language Description: Research</h1>
<hr><pre width=80>
         _________ __                 __                               
        /   _____//  |_____________ _/  |______     ____  __ __  ______
        \_____  \\   __\_  __ \__  \\   __\__  \   / ___\|  |  \/  ___/
        /        \|  |  |  | \// __ \|  |  / __ \_/ /_/  >  |  /\___ \ 
       /_______  /|__|  |__|  (____  /__| (____  /\___  /|____//____  >
               \/                  \/          \//_____/            \/ 
    ______________________                           ______________________
			  T H E   W A R   B E G I N S
	   Stratagus - A free fantasy real time strategy game engine
</pre>
<p><b>(C) Copyright 2002-2003 by The Stratagus Project. Distributed under the
<a href="../gpl.html">"GNU General Public License"</a></b>
<hr>
<a href="../stratagus.html">Stratagus</a> 
<a href="../readme.html">Readme</a> 
<a href="../faq.html">FAQ</a> 
<a href="ccl.html">CCL</a> 
<a href="icon.html">PREV</a> 
<a href="sound.html">NEXT</a> 
<a href="ccl-index.html">Index</a> 
<hr>
<a href="#check-dependency">check-dependency</a>
<a href="#define-allow">define-allow</a>
<a href="#define-dependency">define-dependency</a>
<a href="#define-modifier">define-modifier</a>
<a href="#define-upgrade">define-upgrade</a>
<a href="#define-upgrade-wc-names">define-upgrade-wc-names</a>
<a href="#get-dependency">get-dependency</a>
<hr>
<h2>Intro - Introduction to research functions and variables</h2>

Everything around researching and upgrades.
<h2>Functions</h2>

<a name="check-dependency"></a>
<h3>check-dependency</h3>

<h4>Description</h4>

NOT WRITTEN YET.

<h4>Syntax</h4>

<code>(check-dependency)</code>

<dl>
<dt>.</dt>
<dd>.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (check-dependency)
</pre>

<p>.

<h4>Used</h4>

<a href="../../data/ccl/upgrade.ccl"> $LIBARYPATH/ccl/upgrade.ccl</a> ,
<a href="../../data/ccl/human/upgrade.ccl"> $LIBARYPATH/ccl/human/upgrade.ccl</a> ,
<a href="../../data/ccl/orc/upgrade.ccl"> $LIBARYPATH/ccl/orc/upgrade.ccl</a>

<a name="define-allow"></a>
<h3>define-allow</h3>

<h4>Description</h4>

Define what unit-types and upgrades are enabled for each player during
a level.

<h4>Syntax</h4>

<code>(define-allow name str16)</code>

<dl>
<dt>name</dt>
<dd>Name of an unit-type or an upgrade to be defined.
</dd>
<dt>str16</dt>
<dd>
  The initial allow state for the unit-type or upgrade at level start:
  <ul>
  <li>A - Allowed
  <li>E - Enabled, allowed by level but currently forbidden
  <li>F - Forbidden
  <li>R - Researched or acquired
  <li>Q - Acquired but currently forbidden (does it make sense?:)
  </ul>
  Each player has his own character, the first is for player 0 and the last
  is for player 15.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-allow 'unit-catapult                    "AAAAAAAAAAAAAAAA")
</pre>

<p>Allow the catapult for all 16 players.

<h4>Used</h4>

<a href="../../data/ccl/upgrade.ccl"> $LIBARYPATH/ccl/upgrade.ccl</a> ,
<a href="../../data/ccl/human/upgrade.ccl"> $LIBARYPATH/ccl/human/upgrade.ccl</a> ,
<a href="../../data/ccl/orc/upgrade.ccl"> $LIBARYPATH/ccl/orc/upgrade.ccl</a>

<a name="define-dependency"></a>
<h3>define-dependency</h3>

<h4>Description</h4>

Define the dependencies for an unit-type or an upgrade. The dependency
must be full filled before an unit or research can be used.

<h4>Syntax</h4>

<code>(define-dependency unit-type/upgrade '( unit-type/upgrade count ... )
    ['or '( unit-type/upgrade count ... ) ...] )
</code><p>
<code>(define-dependency unit-type/upgrade '( required-part )
     ['or '( optional-or-part ) ...] )
</code>

<dl>
<dt>required-part</dt>
<dd><code>unit/upgrade [count]</code><p>
   A list of unit-types or upgrades required.
   <dl>
   <dt>unit/upgrade</dt>
   <dd>Unit-type name or upgrade name required.
   </dd>
   <dt>count</dt>
   <dd>Optional count, how many units of the unit-type are required.
   </dl>
</dd>
<dt>'or optional-or-part</dt>
<dd><code>unit/upgrade [count]</code><p>
    Optional list of or parts. One or list must be complete full filled.<p>
   <dl>
   <dt>unit/upgrade</dt>
   <dd>Unit-type name or upgrade name required.
   </dd>
   <dt>count</dt>
   <dd>Optional count, how many units of the unit-type are required.
   </dl>
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-dependency 'upgrade-sword2 '(upgrade-sword1))
</pre>

<p>The second sword upgrade is only possible, if the first sword upgrade is
   researched.

<pre>
    (define-dependency 'upgrade-ranger '(unit-keep) 'or '(unit-castle))
</pre>

<p>The ranger upgrade is only available if a keep or castle is available.

<h4>Used</h4>

<a href="../../data/ccl/upgrade.ccl"> $LIBARYPATH/ccl/upgrade.ccl</a> ,
<a href="../../data/ccl/human/upgrade.ccl"> $LIBARYPATH/ccl/human/upgrade.ccl</a> ,
<a href="../../data/ccl/orc/upgrade.ccl"> $LIBARYPATH/ccl/orc/upgrade.ccl</a>

<a name="define-modifier"></a>
<h3>define-modifier</h3>

<h4>Description</h4>

Define the effects (modifier) of an upgrade. An upgrade can have multiple 
modifiers. It can activate, enable or disable other upgrades and allows
complex reactions.

<h4>Syntax</h4>

<code>(define-modifier name '(effect1 effect1-arg) ...)</code>

<dl>
<dt>name</dt>
<dd>Name of the upgrade, which has this effects. See
<a href="#define-modifier">(define-modifier)</a>. All effects change all old
units and any new unit of a player.
</dd>
<dt>'(effectN effectN-arg)</dt>
<dd>A list of effects of the upgrade. Here are all possible effects:
  <dl>
  <dt>'(attack-range N)</dt>
  <dd>Change the attack range of all units of the unit-types given with
  '(apply-to ...). Note it can be increased with positive numbers and decreased
  with negative numbers.
  </dd>
  <dt>'(sight-range N)</dt>
  <dd>Change the sight range of all units of the unit-types given with
  '(apply-to ...).
  </dd>
  <dt>'(basic-damage N)</dt>
  <dd>Change the basic damage of all units of the unit-types given with
  '(apply-to ...).
  </dd>
  <dt>'(piercing-damage N)</dt>
  <dd>Change the piercing damage of all units of the unit-types given with
  '(apply-to ...).
  </dd>
  <dt>'(armor N)</dt>
  <dd>Change the armor of all units of the unit-types given with
  '(apply-to ...).
  </dd>
  <dt>'(speed N)</dt>
  <dd>Change the speed of all units of the unit-types given with
  '(apply-to ...). <b>Attention</b>: This changes only the displayed value
  and not the real unit-speed!
  </dd>
  <dt>'(hit-points N)</dt>
  <dd>Change the hit points of all units of the unit-types given with
  '(apply-to ...).
  </dd>
  <dt>'(time-cost N)</dt>
  <dd>Change the time costs (research time or build time) of all unit-types
  or upgrade-ids given with '(apply-to ...).
  <dd>
  </dd>
  <dt>'(gold-cost N)</dt>
  <dd>Change the gold costs of all unit-types or upgrade-ids given with
  '(apply-to ...).
  </dd>
  <dt>'(wood-cost N)</dt>
  <dd>Change the wood costs of all unit-types or upgrade-ids given with
  '(apply-to ...).
  </dd>
  <dt>'(oil-cost N)</dt>
  <dd>Change the oil costs of all unit-types or upgrade-ids given with
  '(apply-to ...).
  </dd>
  <dt>'(ore-cost N)</dt>
  <dd>Change the ore costs of all unit-types or upgrade-ids given with
  '(apply-to ...).
  </dd>
  <dt>'(stone-cost N)</dt>
  <dd>Change the stone costs of all unit-types or upgrade-ids given with
  '(apply-to ...).
  </dd>
  <dt>'(coal-cost N)</dt>
  <dd>Change the coal costs of all unit-types or upgrade-ids given with
  '(apply-to ...).
  </dd>
  <dt>'(allow unit-type-id N) or '(allow upgrade-id N)</dt>
  <dd>Change the state of an unit-type or upgrade. N can be
      <ul>
      <li>A - Allowed
      <li>E - Enabled, allowed by level but currently forbidden
      <li>F - Forbidden
      <li>R - Researched or acquired
      <li>Q - Acquired but currently forbidden (does it make sense?:)
      </ul>
      FIXME: The correct possible changed must be described.
  </dd>
  <dt>'(apply-to unit-type-id) or '(apply-to upgrade-id)</dt>
  <dd>The modifiers are applied to this unit-type or upgrade.
  </dd>
  <dt>'(convert-to unit-type-id)</dt>
  <dd>All units of the unit-types given with '(apply-to ...) are converted
  into this unit-type.
  </dd>
  </dl>
</dd>
</dl>

<h4>Example</h4>

<pre>
  (define-modifier 'upgrade-sword1
    '(piercing-damage 2)
    '(apply-to unit-footman) '(apply-to unit-knight) '(apply-to unit-paladin)
    '(apply-to unit-dwarves) '(apply-to unit-d_____) '(apply-to unit-l_____)
    '(apply-to unit-u____-l___________) '(apply-to unit-t_______))
</pre>

<p>This is the default effect of the first sword upgrade. The piercing damage
of the listed units is increased.

<h4>Used</h4>

<a href="../../data/ccl/upgrade.ccl"> $LIBARYPATH/ccl/upgrade.ccl</a> ,
<a href="../../data/ccl/human/upgrade.ccl"> $LIBARYPATH/ccl/human/upgrade.ccl</a> ,
<a href="../../data/ccl/orc/upgrade.ccl"> $LIBARYPATH/ccl/orc/upgrade.ccl</a>

<a name="define-upgrade"></a>
<h3>define-upgrade</h3>

<h4>Description</h4>

Define an upgrade, how it is shown and how much it costs.

<h4>Syntax</h4>

<code>(define-upgrade name 'icon icon-id 'costs #( costs ... ))</code>

<dl>
<dt>name</dt>
<dd>Name of the upgrade, used in buttons (define-button) and 
<a href="#define-modifier">(define-modifier)</a>.
</dd>
<dt>'icon icon-id</dt>
<dd>Name of the upgrade icon, shown in buttons or during the research of the
upgrade.  The icon is defined with 
<a href="icon.html#define-icon">(define-icon)</a> or
<a href="icon.html#define-icon-alias">(define-icon-alias)</a>
<dt>'costs #( time resource1 resource2 resource3 resource4 resource5 resource6)</dt>
<dd>This are the costs for the upgrade. The costs (resource1-resource6) could
be redefined, the default is: 'costs #( time gold wood oil ore stone coal).
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-upgrade 'upgrade-sword1 'icon 'icon-sword2
      'costs #(   200   800     0     0     0     0     0))
</pre>

<p>This is the default definition of the first sword upgrade. The icon
"icon-sword2" is shown in buttons and during the upgrade. The upgrade costs
200 frame cycles to research and 800 gold from the store.

<h4>Used</h4>

<a href="../../data/ccl/upgrade.ccl"> $LIBARYPATH/ccl/upgrade.ccl</a> ,
<a href="../../data/ccl/human/upgrade.ccl"> $LIBARYPATH/ccl/human/upgrade.ccl</a> ,
<a href="../../data/ccl/orc/upgrade.ccl"> $LIBARYPATH/ccl/orc/upgrade.ccl</a>

<a name="define-upgrade-wc-names"></a>
<h3>define-upgrade-wc-names</h3>

<h4>Description</h4>

.

<h4>Syntax</h4>

<code>(define-upgrade-wc-names sword1 sword2 ...)</code>

<dl>
<dt>.</dt>
<dd>.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (define-upgrade-wc-names 'upgrade-sword1 'upgrade-sword2 ...)
</pre>

<p>.

<h4>Used</h4>

<a href="../../data/ccl/upgrade.ccl"> $LIBARYPATH/ccl/upgrade.ccl</a> ,
<a href="../../data/ccl/human/upgrade.ccl"> $LIBARYPATH/ccl/human/upgrade.ccl</a> ,
<a href="../../data/ccl/orc/upgrade.ccl"> $LIBARYPATH/ccl/orc/upgrade.ccl</a>

<a name="get-dependency"></a>
<h3>get-dependency</h3>

<h4>Description</h4>

NOT WRITTEN YET.

<h4>Syntax</h4>

<code>(get-dependency)</code>

<dl>
<dt>.</dt>
<dd>.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (get-dependency)
</pre>

<p>.

<h4>Used</h4>

<a href="../../data/ccl/upgrade.ccl"> $LIBARYPATH/ccl/upgrade.ccl</a> ,
<a href="../../data/ccl/human/upgrade.ccl"> $LIBARYPATH/ccl/human/upgrade.ccl</a> ,
<a href="../../data/ccl/orc/upgrade.ccl"> $LIBARYPATH/ccl/orc/upgrade.ccl</a>

<hr>
Last changed: $Id$<br>
All trademarks and copyrights on this page are owned by their respective owners.
<address>(c) 2002-2003 by<a href="http://stratagus.org">
The Stratagus Project</a></address></body></html>
