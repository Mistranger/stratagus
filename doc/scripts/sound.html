<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<!--
----	(c) Copyright 2002-2003 by Lutz Sammer

----    This program is free software; you can redistribute it and/or modify
----    it under the terms of the GNU General Public License as published by
----    the Free Software Foundation; version 2 dated June, 1991.
----
----    This program is distributed in the hope that it will be useful,
----    but WITHOUT ANY WARRANTY; without even the implied warranty of
----    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
----    GNU General Public License for more details.
----
----    You should have received a copy of the GNU General Public License
----    along with this program; if not, write to the Free Software
----    Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
----    02111-1307, USA.
-->
    <title>Stratagus Configuration Language Description: Icon</title>
    <meta http-equiv="Content-Type" content="text/html; CHARSET=iso-8859-1">
    <meta name="Author" content="johns98@gmx.net">
    <meta name="Keyword" content="ccl,tileset">
    <meta name="Description" content="">
</head>
<body>
    <h1>Stratagus Configuration Language Description: Sound</h1>
<hr><pre width=80>
         _________ __                 __                               
        /   _____//  |_____________ _/  |______     ____  __ __  ______
        \_____  \\   __\_  __ \__  \\   __\__  \   / ___\|  |  \/  ___/
        /        \|  |  |  | \// __ \|  |  / __ \_/ /_/  >  |  /\___ \ 
       /_______  /|__|  |__|  (____  /__| (____  /\___  /|____//____  >
               \/                  \/          \//_____/            \/ 
    ______________________                           ______________________
			  T H E   W A R   B E G I N S
	   Stratagus - A free fantasy real time strategy game engine
</pre>
<p><b>(C) Copyright 2002-2003 by The Stratagus Project. Distributed under the
<a href="../gpl.html">"GNU General Public License"</a></b>
<hr>
<a href="../stratagus.html">Stratagus</a> 
<a href="../readme.html">Readme</a> 
<a href="../faq.html">FAQ</a> 
<a href="ccl.html">CCL</a> 
<a href="research.html">PREV</a> 
<a href="tileset.html">NEXT</a> 
<a href="ccl-index.html">Index</a> 
<hr>
<a href="#define-game-sounds">define-game-sounds</a>
<a href="#display-sounds">display-sounds</a>
<a href="#make-sound">make-sound</a>
<a href="#make-sound-group">make-sound-group</a>
<a href="#map-sound">map-sound</a>
<a href="#play-file">play-file</a>
<a href="#play-music">play-music</a>
<a href="#play-sound">play-sound</a>
<a href="#set-cd-mode!">set-cd-mode!</a>
<a href="#set-global-sound-range!">set-global-sound-range!</a>
<a href="#set-menu-music!">set-menu-music!</a>
<a href="#set-music-volume!">set-music-volume!</a>
<a href="#set-sound-range!">set-sound-range!</a>
<a href="#set-sound-volume!">set-sound-volume!</a>
<a href="#set-title-music!">set-title-music!</a>
<a href="#sound-for-name">sound-for-name</a>
<a href="#sound-off">sound-off</a>
<a href="#sound-on">sound-on</a>
<a href="#sound-thread">sound-thread</a>
<a href="#stop-music">stop-music</a>
<a href="#with-sound">with-sound</a>
<hr>
<h2>Intro - Introduction to sound functions and variables</h2>

Everything around sound.
<h2>Functions</h2>
<a name="define-game-sounds"></a>
<h3>(define-game-sounds name sound [[name sound] ...])</h3>

Specify some global sounds.


<dl>
<dt>name</dt>
<dd>One of the following:
'click, 'placement-error, 'placement-success, 'repair, 'human-rescue, 'orc-rescue
</dd>
<dt>value</dt>
<dd>The sound to use.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Defines some game sounds.
    (define-game-sounds
      'placement-error (make-sound "placement error" "ui/placement error.wav")
      'placement-success (make-sound "placement success" "ui/placement success.wav")
      'click sound-click
      'human-rescue (make-sound "human rescue" "human/rescue.wav")
      'orc-rescue (make-sound "orc rescue" "orc/rescue.wav") )))
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="display-sounds"></a>
<h3>(display-sounds)</h3>

Ask the sound system to dump on the standard output the mapping 
between sound names and sound id.


<h4>Example</h4>

<pre>
    ;; Displays the mapping between sound names and sound id.
    (display-sounds)
</pre>

<h4>Not Used</h4>

<a name="make-sound"></a>
<h3>(make-sound name file)</h3>

Asks the sound system to register a sound under a given name, with an 
associated list of files (the list can be replaced by only one file).


<dl>
<dt>name</dt>
<dd>Name of the sound.
</dd>
<dt>file</dt>
<dd>Name of the file or a list of files.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Makes the sounds "lightning" and "basic human voices acknowledge".
    (make-sound "lightning" "spells/lightning.wav")
    (make-sound "basic human voices acknowledge"
      (list "human/basic_voices/acknowledgement/1.wav"
            "human/basic_voices/acknowledgement/2.wav"
            "human/basic_voices/acknowledgement/3.wav"
            "human/basic_voices/acknowledgement/4.wav"))
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="make-sound-group"></a>
<h3>(make-sound-group name group group)</h3>

Asks the sound system to build a special sound group.


<dl>
<dt>name</dt>
<dd>Name of the sound.
</dd>
<dt>group</dt>
<dd>sound-id or string
</dd>
</dl>

<h4>Example</h4>

<pre>
    (make-sound-group "footman-selected"
      "basic human voices selected" "basic human voices annoyed")
</pre>
<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="map-sound"></a>
<h3>(map-sound name sound)</h3>

Ask the sound system to remap a sound id to a given name.


<dl>
<dt>name</dt>
<dd>Name of the sound.
</dd>
<dt>sound</dt>
<dd>Sound to map to.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Maps the name "footman-acknowledge" to "basic human voices acknowledge".
    (map-sound "footman-acknowledge" "basic human voices acknowledge")
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="play-file"></a>
<h3>(play-file name)</h3>

Play a sound file.


<dl>
<dt>name</dt>
<dd>Name of the file to play.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Play the file "spells/lightning.wav".
    (play-file "spells/lightning.wav")
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="play-music"></a>
<h3>(play-music name)</h3>

Name of the music file to play.


<dl>
<dt>name</dt>
<dd>Name of the music file.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Plays the music file "music/default.mod".
    (play-music "music/default.mod")
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="play-sound"></a>
<h3>(play-sound name)</h3>

Ask the sound system to play the specified sound.


<dl>
<dt>name</dt>
<dd>Name of the sound to play.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Play the sound "basic human voices ready".
    (play-sound "basic human voices ready")
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="set-cd-mode!"></a>
<h3>(set-cd-mode! mode)</h3>

Set the cd mode.


<dl>
<dt>mode</dt>
<dd>":all", ":random", ":off"
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Set the cd mode to play songs in a random order.
    (set-cd-mode! ":random")
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<a name="set-global-sound-range!"></a>
<h3>(set-global-sound-range! distance)</h3>

Set the cut off distance.


<dl>
<dt>distance</dt>
<dd>Max tile distance to hear sounds.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Set the sound range to 40.
    (set-global-sound-range! 40)
</pre>

<h4>Not Used</h4>

<a name="set-menu-music!"></a>
<h3>(set-menu-music! song)</h3>

Set the default menu music.


<dl>
<dt>song</dt>
<dd>Song to be played at menu screen, this is the second screen displayed.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; This is the default song played.
    (set-menu-music! "music/default.mod")
</pre>

<h4>Used</h4>

<a href="../../data/ccl/stratagus.ccl"> $LIBARYPATH/ccl/stratagus.ccl </a>

<a name="set-music-volume!"></a>
<h3>(set-music-volume! volume)</h3>

.


<dl>
<dt>volume</dt>
<dd>Number between 0 and MaxVolume.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Set the music volume to 128.
    (set-music-volume! 128)
</pre>

<h4>Used</h4>

<a href="../../data/ccl/stratagus.ccl"> $LIBARYPATH/ccl/stratagus.ccl </a>

<a name="set-sound-range!"></a>
<h3>(set-sound-range! name distance)</h3>

Set the range of a given sound.


<dl>
<dt>name</dt>
<dd>Name of the sound.
</dd>
<dt>distance</dt>
<dd>Max tile distance to hear the sound.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Set the range of the sound "basic human voices ready" to 20.
    (set-sound-range! "basic human voices ready" 20)
</pre>

<h4>Not Used</h4>

<a name="set-sound-volume!"></a>
<h3>(set-sound-volume! volume)</h3>

Global volume support.


<dl>
<dt>volume</dt>
<dd>Number between 0 and MaxVolume.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; Set the sound volume to 128.
    (set-sound-volume! 128)
</pre>

<h4>Used</h4>

<a href="../../data/ccl/stratagus.ccl"> $LIBARYPATH/ccl/stratagus.ccl </a>

<a name="set-title-music!"></a>
<h3>(set-title-music! song)</h3>

Change the default title music.


<dl>
<dt>song</dt>
<dd>Song to be played at title screen, this is the first screen displayed.
</dd>
</dl>

<h4>Example</h4>

<pre>
    ;; This is the default song played.
    (set-title-music! "music/default.mod")
</pre>

<h4>Used</h4>

<a href="../../data/ccl/stratagus.ccl"> $LIBARYPATH/ccl/stratagus.ccl </a>

<a name="sound-for-name"></a>
<h3>(sound-for-name name)</h3>

Ask the sound system to associate a sound id to a sound name.


<dl>
<dt>name</dt>
<dd>Name of the sound.
</dd>
</dl>

<h4>Example</h4>

<pre>
    (sound-for-name "peasant attack")
</pre>
<h4>Not Used</h4>

<a name="sound-off"></a>
<h3>(sound-off)</h3>

Turn off sound.


<h4>Example</h4>

<pre>
    ;; Turns off sound.
    (sound-off)
</pre>

<h4>Not Used</h4>

<a name="sound-on"></a>
<h3>(sound-on)</h3>

Turn on sound.


<h4>Example</h4>

<pre>
    ;; Turns on sound.
    (sound-on)
</pre>

<h4>Not Used</h4>

<a name="sound-thread"></a>
<h3>(sound-thread)</h3>

Ask clone to use a sound thread.


<h4>Example</h4>

<pre>
    (sound-thread)
</pre>
<h4>Not Used</h4>

<a name="stop-music"></a>
<h3>(stop-music)</h3>

Stop playing music.


<h4>Example</h4>

<pre>
    ;; Stop playing music.
    (stop-music)
</pre>

<h4>Not Used</h4>

<a name="with-sound"></a>
<h3>(with-sound)</h3>

Returns true if compiled with sound, false otherwise.


<h4>Example</h4>

<pre>
    ;; Returns true if compiled with sound, false otherwise.
    (with-sound)
</pre>

<h4>Used</h4>

<a href="../../data/ccl/sound.ccl"> $LIBARYPATH/ccl/sound.ccl </a>

<hr>
Last changed: $Id$<br>
All trademarks and copyrights on this page are owned by their respective owners.
<address>(c) 2002-2003 by <a href="http://stratagus.org">
The Stratagus Project</a></address></body></html>
